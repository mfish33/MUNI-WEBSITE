<div class="navContainer">

    <div class="logoSection">
        <div class="hamburger hamburger--spin hideDesktop" (click)="hamburgerIsActive=!hamburgerIsActive"
            [ngClass]="hamburgerIsActive ? 'is-active hamburgerTurn' : ''">
            <div class="hamburger-box">
                <div class="hamburger-inner"></div>
            </div>
        </div>
        <div class="verticalAlign">
            <img src="assets/muni-logo.png" alt="" [routerLink]="['/']">
        </div>
    </div>
    
    <nav class="mainNav hideMobile">
        <ul class="mainNavList">
            <li class="dropdownContainer">
                <div class="navDropLabel" [routerLink]="['courses']">
                    <div class="centerElements">
                      <a>Courses</a>
                      <div class="arrow-down"></div>
                    </div>
                </div>
                <ul class="dropdownList">
                    <li *ngFor="let course of courses | async">
                        <a [routerLink]="['/courses', course.id]">{{course.courseTitle}}</a>
                    </li>
                </ul>
            </li>

            <li class="dropdownContainer">
                <div class="navDropLabel">
                  <div class="centerElements">
                    <a href="#Tools">Tools</a>
                    <div class="arrow-down"></div>
                  </div>
                </div>
                <ul class="dropdownList">
                    <li>
                        <a href="">Spreadsheet</a>
                    </li>
                    <li>
                        <a href="">Calculator</a>
                    </li>
                    <li>
                        <a href="">All Tools</a>
                    </li>
                </ul>

            </li>



            <li><a [routerLink]="['/about']">About</a></li>
            <li><a [routerLink]="['/about']" fragment="feedback">Feedback</a></li>
        </ul>
    </nav>

    <div class="signInWidget">
        <div style="display: flex;">

            <div *ngIf="$user | async as user; else defaultIcon">
                <div class="verticalAlign" (click)="mobileSignInOptions=!mobileSignInOptions">
                    <img *ngIf="user.photoURL" [src]="user.photoURL" class="icon">
                    <div *ngIf="!user.photoURL" class="icon">
                        <fa-icon [icon]="faUser" class="signedInIcon"></fa-icon>
                    </div>
                </div>
            </div>
            <ng-template #defaultIcon>
                <div class="verticalAlign" (click)="mobileSignInOptions=!mobileSignInOptions">
                    <div class="icon">
                        <fa-icon [icon]="faUser" class="signedOutIcon"></fa-icon>
                    </div>
                </div>
            </ng-template>

            <!--verticalAlign-->
            <div class="signInOptions verticalAlign hideMobile">
                <div *ngIf="$user | async as user; else loginButtons">
                    <p> {{user.displayName}}</p>
                    <button (click)='auth.signOut()'>Sign Out</button>
                </div>
                <ng-template #loginButtons>
                    <a [routerLink]="['/login']">Log In</a>
                    <a [routerLink]="['/register']">Register</a>
                </ng-template>
            </div>



            <div class="mobileSignInOptions hideDesktop"
                [ngClass]="mobileSignInOptions ? 'mobileSignInOptionsShow' : ''">
                <ul class="mobileSignInOptionsClippy">
                    <li class="mobileSignInOptionsSignIn">
                        <a [routerLink]="['/login']">Sign In</a>
                    </li>
                    <li>
                        <a href="#">Register</a>
                    </li>
                </ul>


            </div>

        </div>

    </div>
</div>

<div [ngClass]="hamburgerIsActive ? 'slideMobileNav' : ''" class="mobileNav hideDesktop">
    <ul class="mainNavList">
        <li (click)="navDrop1=!navDrop1" [ngClass]="navDrop1 ? 'mobileHover' : ''" class="dropdownContainer">
            <div class="navDropLabel">
                <a href="courses">Courses</a>
                <div class="arrow-down"></div>
            </div>
            <ul class="dropdownList">
                <li *ngFor="let course of courses | async">
                    <a [routerLink]="['/courses', course.id]">{{course.courseTitle}}</a>
                </li>
            </ul>
        </li>

        <li class="dropdownContainer" (click)="navDrop2=!navDrop2" [ngClass]="navDrop2 ? 'mobileHover' : ''">
            <div class="navDropLabel">
                <a href="#Tools">Tools</a>
                <div class="arrow-down"></div>
            </div>
            <ul class="dropdownList">
                <li>
                    <a href="">Spreadsheet</a>
                </li>
                <li>
                    <a href="">Calculator</a>
                </li>
                <li>
                    <a href="">All Tools</a>
                </li>
            </ul>

        </li>



        <li><a [routerLink]="['/about']">About</a></li>
    </ul>
</div>